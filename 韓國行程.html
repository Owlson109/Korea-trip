<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>韓國冬日之旅 2025-2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <linkcdnjs href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary-color: #2c3e50; /* 深藍色 */
            --accent-color: #e74c3c; /* 活力紅 */
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333;
            --light-text: #777;
            --timeline-line: #ddd;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding-bottom: 50px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #1c2e4a 0%, #2c3e50 100%);
            color: white;
            padding: 30px 20px;
            text-align: center;
            position: relative;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            font-weight: 700;
        }

        header p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Date Navigation */
        .date-nav-container {
            position: sticky;
            top: 0;
            background: white;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            padding: 10px 0;
        }

        .date-nav {
            display: flex;
            overflow-x: auto;
            padding: 0 15px;
            gap: 10px;
            -webkit-overflow-scrolling: touch; /* For smooth iOS scrolling */
            scrollbar-width: none; /* Firefox */
        }

        .date-nav::-webkit-scrollbar {
            display: none; /* Chrome/Safari */
        }

        .date-btn {
            flex: 0 0 auto;
            padding: 10px 18px;
            border-radius: 20px;
            background: #f0f2f5;
            color: var(--text-color);
            border: none;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            min-width: 70px;
        }

        .date-btn .day {
            font-size: 0.8rem;
            display: block;
            color: var(--light-text);
        }

        .date-btn .date {
            font-size: 1.1rem;
            font-weight: 700;
            display: block;
        }

        .date-btn.active {
            background: var(--primary-color);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 4px 10px rgba(44, 62, 80, 0.3);
        }

        .date-btn.active .day {
            color: rgba(255,255,255,0.8);
        }

        /* Timeline Content */
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
        }

        .day-title {
            margin: 20px 0;
            font-size: 1.4rem;
            color: var(--primary-color);
            border-left: 5px solid var(--accent-color);
            padding-left: 15px;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 7px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--timeline-line);
        }

        .event-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }

        .event-card:hover {
            transform: translateY(-3px);
        }

        /* Timeline Dot */
        .event-card::before {
            content: '';
            position: absolute;
            left: -30px;
            top: 25px;
            width: 16px;
            height: 16px;
            background: white;
            border: 3px solid var(--primary-color);
            border-radius: 50%;
            z-index: 1;
        }

        .event-card.essential::before {
            border-color: var(--accent-color);
            background: var(--accent-color);
        }

        .time {
            color: var(--accent-color);
            font-weight: 700;
            font-size: 0.95rem;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .event-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary-color);
        }

        .event-desc {
            font-size: 0.95rem;
            color: var(--light-text);
        }

        .flight-info {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 10px;
            margin-top: 10px;
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .flight-info span {
            margin-right: 15px;
            color: #555;
        }

        .tag {
            display: inline-block;
            padding: 3px 8px;
            background: #e1ecf4;
            color: #39739d;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-top: 8px;
        }

        .tag.essential {
            background: #fadbd8;
            color: #c0392b;
        }

        /* Empty State */
        .no-events {
            text-align: center;
            padding: 40px;
            color: var(--light-text);
        }

        .no-events i {
            font-size: 3rem;
            margin-bottom: 10px;
            color: #ddd;
        }

        @media (max-width: 600px) {
            header h1 { font-size: 1.5rem; }
            .container { padding: 0 15px; }
            .event-card { padding: 15px; }
        }
    </style>
</head>
<body>

<header>
    <h1><i class="fas fa-plane-departure"></i> 韓國冬日之旅</h1>
    <p>2025.12.22 (Mon) - 2026.01.03 (Sat)</p>
</header>

<div class="date-nav-container">
    <nav class="date-nav" id="dateNav">
        </nav>
</div>

<main class="container">
    <h2 id="currentDateDisplay" class="day-title"></h2>
    <div id="timelineContainer" class="timeline">
        </div>
</main>

<script>
    // --- 1. 行程資料庫 (在此處修改或增加行程) ---
    const scheduleData = {
        "2025-12-22": [
            {
                time: "07:10",
                endTime: "11:40",
                title: "出發：前往首爾 (ICN)",
                desc: "香港國際機場 (HKG) T1 -> 仁川國際機場 (ICN) T1",
                type: "flight",
                essential: true,
                details: { flight: "UO618", class: "Fare Class: X" }
            },
            {
                time: "13:00",
                title: "機場快線 / 巴士前往市區",
                desc: "辦理入境手續後，搭乘 AREX 或巴士前往飯店。",
                type: "transport",
                essential: false
            },
            {
                time: "15:00",
                title: "飯店 Check-in",
                desc: "入住首爾市區飯店，稍作休息。",
                type: "hotel",
                essential: false
            },
            {
                time: "18:00",
                title: "晚餐：韓式烤肉",
                desc: "在明洞或弘大附近享用第一頓韓國晚餐。",
                type: "food",
                essential: false
            }
        ],
        "2026-01-03": [
            {
                time: "05:30",
                title: "前往金海機場 (PUS)",
                desc: "辦理退房，搭乘計程車或巴士前往機場。",
                type: "transport",
                essential: true
            },
            {
                time: "07:40",
                endTime: "10:35",
                title: "回程：返回香港 (HKG)",
                desc: "金海國際機場 (PUS) -> 香港國際機場 (HKG) T1",
                type: "flight",
                essential: true,
                details: { flight: "UO605", class: "Fare Class: W" }
            },
            {
                time: "11:30",
                title: "抵達溫暖的家",
                desc: "旅程結束。",
                type: "home",
                essential: false
            }
        ]
    };

    // --- 2. 輔助功能：生成日期列表 ---
    const startDate = new Date(2025, 11, 22); // Note: Month is 0-indexed (11 = Dec)
    const endDate = new Date(2026, 0, 3);     // Note: Month is 0-indexed (0 = Jan)
    
    const daysOfWeek = ["週日", "週一", "週二", "週三", "週四", "週五", "週六"];

    function getDates(start, end) {
        const dates = [];
        let current = new Date(start);
        while (current <= end) {
            dates.push(new Date(current));
            current.setDate(current.getDate() + 1);
        }
        return dates;
    }

    // --- 3. 渲染邏輯 ---
    const dateNav = document.getElementById('dateNav');
    const timelineContainer = document.getElementById('timelineContainer');
    const currentDateDisplay = document.getElementById('currentDateDisplay');
    const allDates = getDates(startDate, endDate);

    // 格式化日期字串 YYYY-MM-DD
    function formatDateKey(date) {
        const y = date.getFullYear();
        const m = String(date.getMonth() + 1).padStart(2, '0');
        const d = String(date.getDate()).padStart(2, '0');
        return `${y}-${m}-${d}`;
    }

    // 格式化顯示日期 MM/DD
    function formatDisplayDate(date) {
        return `${date.getMonth() + 1}/${date.getDate()}`;
    }

    // 渲染上方日期導航
    allDates.forEach((date, index) => {
        const btn = document.createElement('button');
        btn.className = 'date-btn';
        if (index === 0) btn.classList.add('active'); // 預設選中第一天
        
        const dateKey = formatDateKey(date);
        btn.dataset.date = dateKey;
        
        const daySpan = document.createElement('span');
        daySpan.className = 'day';
        daySpan.innerText = daysOfWeek[date.getDay()];
        
        const dateSpan = document.createElement('span');
        dateSpan.className = 'date';
        dateSpan.innerText = formatDisplayDate(date);
        
        btn.appendChild(daySpan);
        btn.appendChild(dateSpan);
        
        btn.onclick = () => selectDate(dateKey, btn);
        dateNav.appendChild(btn);
    });

    // 選擇日期功能
    function selectDate(dateKey, btnElement) {
        // 更新按鈕狀態
        document.querySelectorAll('.date-btn').forEach(b => b.classList.remove('active'));
        btnElement.classList.add('active');
        
        // 滑動到選中的按鈕 (手機體驗優化)
        btnElement.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });

        // 更新標題
        const [y, m, d] = dateKey.split('-');
        const dateObj = new Date(y, m-1, d);
        currentDateDisplay.innerHTML = `${m}月${d}日 <small style="font-size:0.6em; color:#777">(${daysOfWeek[dateObj.getDay()]})</small>`;

        // 渲染該日行程
        renderTimeline(dateKey);
    }

    // 渲染時間軸內容
    function renderTimeline(dateKey) {
        timelineContainer.innerHTML = ''; // 清空
        const dayEvents = scheduleData[dateKey];

        if (!dayEvents) {
            // 空行程狀態
            timelineContainer.innerHTML = `
                <div class="no-events">
                    <i class="fas fa-calendar-plus"></i>
                    <p>本日尚無詳細行程</p>
                    <small>計畫去哪裡探險呢？</small>
                </div>
            `;
            return;
        }

        dayEvents.forEach(event => {
            const card = document.createElement('div');
            card.className = `event-card ${event.essential ? 'essential' : ''}`;
            
            // 決定 Icon
            let iconClass = 'fa-circle';
            if(event.type === 'flight') iconClass = 'fa-plane';
            else if(event.type === 'food') iconClass = 'fa-utensils';
            else if(event.type === 'hotel') iconClass = 'fa-bed';
            else if(event.type === 'transport') iconClass = 'fa-bus';
            else if(event.type === 'home') iconClass = 'fa-house-user';

            let timeDisplay = event.time;
            if (event.endTime) timeDisplay += ` - ${event.endTime}`;

            let flightInfoHtml = '';
            if (event.details) {
                flightInfoHtml = `
                    <div class="flight-info">
                        <span><i class="fas fa-ticket-alt"></i> ${event.details.flight}</span>
                        <span>${event.details.class}</span>
                    </div>
                `;
            }

            let tagsHtml = '';
            if (event.essential) {
                tagsHtml = `<span class="tag essential">必要行程</span>`;
            }

            card.innerHTML = `
                <div class="time"><i class="fas ${iconClass}"></i> ${timeDisplay}</div>
                <div class="event-title">${event.title}</div>
                <div class="event-desc">${event.desc}</div>
                ${flightInfoHtml}
                ${tagsHtml}
            `;
            
            timelineContainer.appendChild(card);
        });
    }

    // 初始化：載入第一天
    selectDate(formatDateKey(startDate), dateNav.children[0]);

</script>

</body>
</html>